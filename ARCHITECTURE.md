/**\n * ARCHITECTURE DIAGRAM - E-commerce App\n * \n * This document shows how all pieces of the app fit together\n */\n\n// ============================================\n// APPLICATION STRUCTURE\n// ============================================\n\nApp.tsx (Root Entry Point)\n  â†“\n  â”œâ”€ SafeAreaView (Safe zone for notches)\n  â”œâ”€ StatusBar (Top status bar config)\n  â””â”€ Provider Stack (nested):\n      â”œâ”€ CartProvider\n      â”‚  â””â”€ FavoritesProvider\n      â”‚     â””â”€ UserProvider\n      â”‚        â””â”€ NavigationContainer\n      â”‚           â””â”€ RootNavigator\n\n\n// ============================================\n// NAVIGATION STRUCTURE\n// ============================================\n\nRootNavigator:\n  â”œâ”€ BottomTabNavigator (Primary Navigation - 5 Tabs)\n  â”‚  â”œâ”€ HomeStack\n  â”‚  â”‚  â””â”€ HomeScreen\n  â”‚  â”œâ”€ SearchStack\n  â”‚  â”‚  â””â”€ SearchScreen\n  â”‚  â”œâ”€ CartStack\n  â”‚  â”‚  â””â”€ CartScreen\n  â”‚  â”œâ”€ FavoritesStack\n  â”‚  â”‚  â””â”€ FavoritesScreen\n  â”‚  â””â”€ ProfileStack\n  â”‚     â””â”€ ProfileScreen\n  â”‚\n  â””â”€ Stack Navigator (Detail Screens - On top of tabs)\n     â”œâ”€ ProductDetailScreen   (from HomeScreen/SearchScreen/FavoritesScreen)\n     â”œâ”€ CheckoutScreen        (from CartScreen)\n     â”œâ”€ OrderHistoryScreen    (from ProfileScreen menu)\n     â”œâ”€ OrderDetailsScreen    (from OrderHistoryScreen)\n     â””â”€ SettingsScreen        (from ProfileScreen menu)\n\n\n// ============================================\n// STATE MANAGEMENT ARCHITECTURE\n// ============================================\n\nGlobal State (Context API):\n  â”‚\n  â”œâ”€ CartContext\n  â”‚  â”œâ”€ State: {\n  â”‚  â”‚   items: CartItem[],\n  â”‚  â”‚   totalItems: number,\n  â”‚  â”‚   totalPrice: number,\n  â”‚  â”‚   isLoading: boolean,\n  â”‚  â”‚   error: string | null\n  â”‚  â”‚ }\n  â”‚  â”œâ”€ Actions: ADD_TO_CART, REMOVE_FROM_CART, UPDATE_QUANTITY, CLEAR_CART\n  â”‚  â””â”€ Hook: useCart() â†’ Returns (state, dispatch, helper methods)\n  â”‚\n  â”œâ”€ FavoritesContext\n  â”‚  â”œâ”€ State: {\n  â”‚  â”‚   items: Product[],\n  â”‚  â”‚   isLoading: boolean,\n  â”‚  â”‚   error: string | null\n  â”‚  â”‚ }\n  â”‚  â”œâ”€ Actions: ADD_TO_FAVORITES, REMOVE_FROM_FAVORITES, CLEAR_FAVORITES\n  â”‚  â””â”€ Hook: useFavorites() â†’ Returns (items, methods, isFavorite checker)\n  â”‚\n  â””â”€ UserContext\n     â”œâ”€ State: {\n     â”‚   user: User | null,\n     â”‚   isAuthenticated: boolean,\n     â”‚   isLoading: boolean,\n     â”‚   error: string | null,\n     â”‚   addresses: Address[],\n     â”‚   paymentMethods: PaymentMethod[]\n     â”‚ }\n     â”œâ”€ Actions: SET_USER, LOGIN_SUCCESS, LOGOUT, UPDATE_USER, address/payment ops\n     â””â”€ Hook: useUser() â†’ Returns (user, auth methods, profile methods)\n\n\n// ============================================\n// COMPONENT HIERARCHY\n// ============================================\n\nReusable Components (src/components/):\n  â”œâ”€ CustomButton\n  â”‚  â”œâ”€ Props: title, onPress, variant, size, loading, disabled, icon\n  â”‚  â”œâ”€ Variants: primary, secondary, outline\n  â”‚  â””â”€ Sizes: small, medium, large\n  â”‚\n  â”œâ”€ CustomInput\n  â”‚  â”œâ”€ Props: placeholder, value, onChangeText, label, error, helperText, icon\n  â”‚  â””â”€ Features: focus state styling, error display, validation feedback\n  â”‚\n  â””â”€ ProductCard\n     â”œâ”€ Props: product, onPress, onAddToCart, onToggleFavorite, variant\n     â”œâ”€ Variants: grid (2-column), list (1-column)\n     â””â”€ Features: badges (discount, new, flash sale), favorite toggle, ratings\n\n\n// ============================================\n// DATA FLOW EXAMPLE: Add to Cart\n// ============================================\n\n1. User taps \"Add to Cart\" button on ProductCard\n   â†“\n2. ProductCard calls onAddToCart(product)\n   â†“\n3. Screen's handler calls useCart().addToCart(cartItem)\n   â†“\n4. CartContext's addToCart dispatches ADD_TO_CART action\n   â†“\n5. Reducer processes action:\n   - Check if product already in cart\n   - If yes: increment quantity\n   - If no: add new item\n   - Recalculate totals\n   â†“\n6. State updates, all components using useCart() re-render\n   â†“\n7. CartScreen shows updated item count\n   â†“\n8. CartIcon in tab shows new badge count\n\n\n// ============================================\n// DATA FLOW EXAMPLE: Checkout Process\n// ============================================\n\n1. User on CartScreen â†’ clicks \"Checkout\"\n   â†“\n2. Navigation goes to CheckoutScreen\n   â†“\n3. CheckoutScreen shows Step 1 (Address Form)\n   â†“\n4. User fills form + clicks \"Next\"\n   â†“\n5. Form validation runs (email, phone, address)\n   â†“\n6. If valid: advance to Step 2 (Payment)\n   â†“\n7. If invalid: show error messages\n   â†“\n8. User selects payment method + clicks \"Next\"\n   â†“\n9. CheckoutScreen shows Step 3 (Review)\n   â†“\n10. User reviews order + clicks \"Place Order\"\n    â†“\n11. Sets isProcessing = true (button shows loading)\n    â†“\n12. Simulates API call (2 seconds)\n    â†“\n13. Generates order number\n    â†“\n14. Calls useCart().clearCart() â†’ Cart state reset\n    â†“\n15. Shows success alert\n    â†“\n16. Navigates to OrderHistoryScreen\n    â†“\n17. User sees their new order in the list\n\n\n// ============================================\n// FILE ORGANIZATION LOGIC\n// ============================================\n\nsrc/\nâ”œâ”€â”€ types/                  WHY?: Central type definitions\nâ”‚   â””â”€â”€ index.ts            WHAT?: All interfaces (Product, Order, User, etc.)\nâ”‚                           BENEFIT: Type safety, IntelliSense, no duplicates\nâ”‚\nâ”œâ”€â”€ constants/              WHY?: Single source of truth for config\nâ”‚   â””â”€â”€ index.ts            WHAT?: Colors, spacing, messages, API endpoints\nâ”‚                           BENEFIT: Easy to change theme/messages globally\nâ”‚\nâ”œâ”€â”€ styles/                 WHY?: Design system\nâ”‚   â””â”€â”€ theme.ts            WHAT?: Pre-built StyleSheet objects, utilities\nâ”‚                           BENEFIT: Consistent look, reusable styles\nâ”‚\nâ”œâ”€â”€ state/                  WHY?: Global state management\nâ”‚   â”œâ”€â”€ CartContext.tsx     WHAT?: Context provider + reducer for cart\nâ”‚   â”œâ”€â”€ FavoritesContext.tsx WHAT?: Context provider + reducer for favorites\nâ”‚   â””â”€â”€ UserContext.tsx     WHAT?: Context provider + reducer for user/auth\nâ”‚                           BENEFIT: No prop drilling, cleaner component tree\nâ”‚\nâ”œâ”€â”€ components/             WHY?: Reusable UI pieces\nâ”‚   â”œâ”€â”€ CustomButton.tsx    WHAT?: Button with variants/sizes/loading\nâ”‚   â”œâ”€â”€ CustomInput.tsx     WHAT?: Input with label/error/validation\nâ”‚   â””â”€â”€ ProductCard.tsx     WHAT?: Product display card (grid/list)\nâ”‚                           BENEFIT: DRY (Don't Repeat Yourself)\nâ”‚\nâ”œâ”€â”€ services/               WHY?: API communication layer\nâ”‚   â””â”€â”€ api.ts              WHAT?: Fetch with retry/timeout, endpoints\nâ”‚                           BENEFIT: Centralized API logic, easy to mock\nâ”‚\nâ”œâ”€â”€ utils/                  WHY?: Helper functions\nâ”‚   â”œâ”€â”€ validation.ts       WHAT?: Email, password, phone validation\nâ”‚   â””â”€â”€ formatting.ts       WHAT?: Format price, date, phone number\nâ”‚                           BENEFIT: Reusable, testable, pure functions\nâ”‚\nâ”œâ”€â”€ navigation/             WHY?: Navigation configuration\nâ”‚   â””â”€â”€ RootNavigator.tsx   WHAT?: Tab navigator + Stack navigator setup\nâ”‚                           BENEFIT: Centralized navigation logic\nâ”‚\nâ””â”€â”€ screens/                WHY?: Page-level components\n    â”œâ”€â”€ HomeScreen.tsx      WHAT?: Main catalog screen\n    â”œâ”€â”€ SearchScreen.tsx    WHAT?: Search + filter screen\n    â”œâ”€â”€ CartScreen.tsx      WHAT?: Shopping cart screen\n    â”œâ”€â”€ FavoritesScreen.tsx WHAT?: Wishlist screen\n    â”œâ”€â”€ ProfileScreen.tsx   WHAT?: User profile screen\n    â”œâ”€â”€ ProductDetailScreen.tsx WHAT?: Product detail screen\n    â”œâ”€â”€ CheckoutScreen.tsx  WHAT?: 3-step checkout\n    â”œâ”€â”€ OrderHistoryScreen.tsx WHAT?: Past orders list\n    â”œâ”€â”€ OrderDetailsScreen.tsx WHAT?: Order tracking\n    â””â”€â”€ SettingsScreen.tsx  WHAT?: App settings\n                            BENEFIT: Easy to find screens, clear structure\n\n\n// ============================================\n// COMPONENT COMPOSITION PATTERN\n// ============================================\n\nEach Screen follows this pattern:\n\nâ”Œâ”€ IMPORTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ â€¢ React hooks (useState, useEffect)       â”‚\nâ”‚ â€¢ React Native components (View, Text)    â”‚\nâ”‚ â€¢ Custom hooks (useCart, useUser)         â”‚\nâ”‚ â€¢ Custom components (ProductCard)         â”‚\nâ”‚ â€¢ Styles & constants                      â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nâ”Œâ”€ TYPES/PROPS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ â€¢ Define prop types for this screen        â”‚\nâ”‚ â€¢ Extend ScreenProps if from nav           â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nâ”Œâ”€ COMPONENT FUNCTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ 1. State declarations (useState)           â”‚\nâ”‚ 2. Hook calls (useCart, useNavigation)     â”‚\nâ”‚ 3. Effects (useEffect)                     â”‚\nâ”‚ 4. Event handlers (const handleX = ...)    â”‚\nâ”‚ 5. Render functions (const renderX = ...) â”‚\nâ”‚ 6. Return JSX                              â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nâ”Œâ”€ STYLES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ â€¢ StyleSheet.create() at bottom            â”‚\nâ”‚ â€¢ Use constants for colors/spacing         â”‚\nâ”‚ â€¢ No hardcoded values                      â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nâ”Œâ”€ EXPORTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ â€¢ export default ScreenName                â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n\n// ============================================\n// RENDERING OPTIMIZATION STRATEGIES\n// ============================================\n\nâœ… Used:\n   â€¢ FlatList instead of ScrollView for product lists\n   â€¢ Memoized callbacks with useCallback (in constants)\n   â€¢ Conditional rendering (show/hide based on state)\n   â€¢ Key props in lists\n\nðŸ”„ Could add:\n   â€¢ React.memo() for component memoization\n   â€¢ useMemo() for expensive calculations\n   â€¢ getItemLayout in FlatList\n   â€¢ removeClippedSubviews in FlatList\n   â€¢ windowSize tuning\n   â€¢ Image lazy loading\n\n\n// ============================================\n// FORM VALIDATION FLOW\n// ============================================\n\nForm Input â†’ onChange handler â†’ updateState\n  â†“\nOnPress \"Submit\" button\n  â†“\nCall validateForm(formData, rules)\n  â†“\nValidation function checks:\n  â€¢ Email format\n  â€¢ Password length\n  â€¢ Phone number digits\n  â€¢ Card number format\n  â†“\nIf valid:\n  â€¢ Proceed to next step\n  â€¢ Make API call\n  â†“\nIf invalid:\n  â€¢ Show error messages\n  â€¢ Focus on first error field\n  â€¢ Disable submit button\n\n\n// ============================================\n// ERROR HANDLING STRATEGY\n// ============================================\n\nTry-Catch Blocks:\n  â””â”€ Wrap async operations\n  â””â”€ Show user-friendly error message\n  â””â”€ Log error for debugging\n\nValidation:\n  â””â”€ Check before proceeding\n  â””â”€ Show field-level errors\n  â””â”€ Clear errors on fix\n\nAPI Errors:\n  â””â”€ Retry logic (retryRequest)\n  â””â”€ Timeout handling (fetchWithTimeout)\n  â””â”€ Error message mapping\n  â””â”€ Fallback to mock data\n\nUI Feedback:\n  â””â”€ Loading spinners\n  â””â”€ Error toasts/alerts\n  â””â”€ Empty states\n  â””â”€ Disabled states\n\n\n// ============================================\n// SCALING CONSIDERATIONS\n// ============================================\n\nAs the app grows:\n\n1. SCREEN COUNT\n   â€¢ Keep screens in src/screens/\n   â€¢ Add to RootNavigator\n   â€¢ Follow same pattern\n\n2. COMPONENTS\n   â€¢ Move to src/components/\n   â€¢ Keep reusable\n   â€¢ Prop-driven variations\n\n3. STATE\n   â€¢ Add more Contexts if needed\n   â€¢ Split by domain (Cart, User, Notifications)\n   â€¢ Keep reducers pure\n\n4. UTILS\n   â€¢ Split formatting.ts if too large\n   â€¢ Add validation.ts expansions\n   â€¢ Create domain-specific utils\n\n5. TYPES\n   â€¢ Keep in src/types/\n   â€¢ Can split into types/user.ts, types/products.ts, etc.\n   â€¢ Use namespaces if needed\n\n6. API\n   â€¢ Split api.ts into multiple files\n   â€¢ api/products.ts, api/orders.ts, api/auth.ts\n   â€¢ Keep shared utilities in api/utils.ts\n\n\n// ============================================\n// TESTING PYRAMID\n// ============================================\n\n        â–³ E2E Tests (Cypress, Detox)\n       â–³ â–³ Integration Tests (Components + Context)\n      â–³ â–³ â–³ Unit Tests (Utils, Validators, Reducers)\n     â–³ â–³ â–³ â–³ Type Checking (TypeScript)\n\nExample unit test (Jest):\n  describe('formatPrice', () => {\n    it('should format 1000 as \"1.000Ä‘\"', () => {\n      expect(formatPrice(1000)).toBe('1.000Ä‘');\n    });\n  });\n\nExample component test:\n  describe('CustomButton', () => {\n    it('should call onPress when clicked', () => {\n      const mockPress = jest.fn();\n      const { getByText } = render(\n        <CustomButton title=\"Click\" onPress={mockPress} />\n      );\n      fireEvent.press(getByText('Click'));\n      expect(mockPress).toHaveBeenCalled();\n    });\n  });\n\n\n// ============================================\n// PERFORMANCE METRICS\n// ============================================\n\nTarget metrics:\n  â€¢ First screen load: < 2 seconds\n  â€¢ Screen transitions: < 300ms\n  â€¢ FlatList scroll: 60 fps\n  â€¢ Search results: instant (< 500ms)\n  â€¢ Bundle size: < 5MB\n\nMonitoring:\n  â€¢ React DevTools Profiler\n  â€¢ React Native Debugger\n  â€¢ Network tab for API calls\n  â€¢ Performance monitor (React DevTools)\n\n\n// ============================================\n// DEPLOYMENT CHECKLIST\n// ============================================\n\n[ ] Code review completed\n[ ] All TypeScript types correct\n[ ] No console.logs in production\n[ ] Error handling for all API calls\n[ ] Loading states for async operations\n[ ] Empty states for lists\n[ ] Forms validated properly\n[ ] Images optimized\n[ ] Strings extracted/i18n ready\n[ ] Sensitive data not hardcoded\n[ ] Authentication flow works\n[ ] Tested on real devices (iOS + Android)\n[ ] Performance acceptable\n[ ] Accessibility features implemented\n[ ] Build succeeds without warnings\n[ ] README updated\n[ ] CHANGELOG prepared\n[ ] Version number bumped\n[ ] Signed and ready for store\n\n*/\n